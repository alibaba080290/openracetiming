{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNative = require(\"react-native\");\nvar _reactNativePaper = require(\"react-native-paper\");\nvar _NewRaceForm = _interopRequireDefault(require(\"./NewRaceForm\"));\nvar _DeveloperOptions = _interopRequireDefault(require(\"./DeveloperOptions\"));\nvar _this = this,\n  _jsxFileName = \"/home/admin/openracetiming/src/components/Settings.tsx\";\nfunction _interopRequireWildcard(e, t) { if (\"function\" == typeof WeakMap) var r = new WeakMap(), n = new WeakMap(); return (_interopRequireWildcard = function _interopRequireWildcard(e, t) { if (!t && e && e.__esModule) return e; var o, i, f = { __proto__: null, default: e }; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return f; if (o = t ? n : r) { if (o.has(e)) return o.get(e); o.set(e, f); } for (var _t in e) \"default\" !== _t && {}.hasOwnProperty.call(e, _t) && ((i = (o = Object.defineProperty) && Object.getOwnPropertyDescriptor(e, _t)) && (i.get || i.set) ? o(f, _t, i) : f[_t] = e[_t]); return f; })(e, t); }\nvar Settings = function Settings() {\n  var _useState = (0, _react.useState)(false),\n    _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n    showForm = _useState2[0],\n    setShowForm = _useState2[1];\n  var _useState3 = (0, _react.useState)([]),\n    _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n    races = _useState4[0],\n    setRaces = _useState4[1];\n  var addRace = function addRace(name, start, laps) {\n    setRaces(function (prev) {\n      return [].concat((0, _toConsumableArray2.default)(prev), [{\n        id: Date.now().toString(),\n        name: name,\n        start: start,\n        laps: laps\n      }]);\n    });\n  };\n  var raceRows = races.map(function (race) {\n    return _react.default.createElement(_reactNativePaper.DataTable.Row, {\n      key: race.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 5\n      }\n    }, _react.default.createElement(_reactNativePaper.DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 7\n      }\n    }, race.name), _react.default.createElement(_reactNativePaper.DataTable.Cell, {\n      numeric: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 7\n      }\n    }, race.laps), _react.default.createElement(_reactNativePaper.DataTable.Cell, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 7\n      }\n    }, race.start ? race.start.toLocaleString() : '—'));\n  });\n  return _react.default.createElement(_reactNative.ScrollView, {\n    contentContainerStyle: {\n      gap: 24,\n      padding: 16\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, _react.default.createElement(_reactNative.View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, _react.default.createElement(_reactNativePaper.DataTable, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_reactNativePaper.DataTable.Header, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, _react.default.createElement(_reactNativePaper.DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, \"Course\"), _react.default.createElement(_reactNativePaper.DataTable.Title, {\n    numeric: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"Tours\"), _react.default.createElement(_reactNativePaper.DataTable.Title, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"D\\xE9part\")), raceRows)), _react.default.createElement(_reactNative.View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, showForm ? _react.default.createElement(_NewRaceForm.default, {\n    onSave: function onSave(name, start, laps) {\n      addRace(name, start, laps);\n      setShowForm(false);\n    },\n    onCancel: function onCancel() {\n      return setShowForm(false);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }) : _react.default.createElement(_reactNative.Button, {\n    title: \"Nouvelle course\",\n    onPress: function onPress() {\n      return setShowForm(true);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  })), process.env.NODE_ENV !== 'production' && _react.default.createElement(_reactNative.View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, _react.default.createElement(_DeveloperOptions.default, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  })));\n};\nvar _default = exports.default = Settings;","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativePaper","_NewRaceForm","_interopRequireDefault","_DeveloperOptions","_this","_jsxFileName","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Settings","_useState","useState","_useState2","_slicedToArray2","showForm","setShowForm","_useState3","_useState4","races","setRaces","addRace","name","start","laps","prev","concat","_toConsumableArray2","id","Date","now","toString","raceRows","map","race","createElement","DataTable","Row","key","__self","__source","fileName","lineNumber","columnNumber","Cell","numeric","toLocaleString","ScrollView","contentContainerStyle","gap","padding","View","Header","Title","onSave","onCancel","Button","title","onPress","process","env","NODE_ENV","_default","exports"],"sources":["/home/admin/openracetiming/src/components/Settings.tsx"],"sourcesContent":["// src/components/Settings.tsx\nimport React, { useState } from 'react';\nimport { ScrollView, View, Button } from 'react-native';\nimport { DataTable } from 'react-native-paper';\n\nimport NewRaceForm from './NewRaceForm';\nimport DeveloperOptions from './DeveloperOptions';\n\n/* ─── Types ────────────────────────────────────────────────────────────── */\ninterface Race {\n  id: string;\n  name: string;\n  start?: Date | null;\n  laps: number;\n}\n\n/* ─── Composant ────────────────────────────────────────────────────────── */\nconst Settings: React.FC = () => {\n  const [showForm, setShowForm] = useState(false);\n  const [races, setRaces] = useState<Race[]>([]);\n\n  /* Ajoute une course dans le state (remplace plus tard par un appel API) */\n  const addRace = (name: string, start: Date | null, laps: number) => {\n    setRaces((prev) => [\n      ...prev,\n      { id: Date.now().toString(), name, start, laps },\n    ]);\n  };\n\n  /* Tableau des courses existantes -------------------------------------- */\n  const raceRows = races.map((race) => (\n    <DataTable.Row key={race.id}>\n      <DataTable.Cell>{race.name}</DataTable.Cell>\n      <DataTable.Cell numeric>{race.laps}</DataTable.Cell>\n      <DataTable.Cell>\n        {race.start ? race.start.toLocaleString() : '—'}\n      </DataTable.Cell>\n    </DataTable.Row>\n  ));\n\n  /* ─── Rendu ──────────────────────────────────────────────────────────── */\n  return (\n    <ScrollView contentContainerStyle={{ gap: 24, padding: 16 }}>\n      {/* Tableau des courses --------------------------------------------- */}\n      <View>\n        <DataTable>\n          <DataTable.Header>\n            <DataTable.Title>Course</DataTable.Title>\n            <DataTable.Title numeric>Tours</DataTable.Title>\n            <DataTable.Title>Départ</DataTable.Title>\n          </DataTable.Header>\n          {raceRows}\n        </DataTable>\n      </View>\n\n      {/* Formulaire nouvelle course -------------------------------------- */}\n      <View>\n        {showForm ? (\n          <NewRaceForm\n            onSave={(name, start, laps) => {\n              addRace(name, start, laps);\n              setShowForm(false);\n            }}\n            onCancel={() => setShowForm(false)}\n          />\n        ) : (\n          <Button title=\"Nouvelle course\" onPress={() => setShowForm(true)} />\n        )}\n      </View>\n\n      {/* Options développeur (mode non-prod) ----------------------------- */}\n      {process.env.NODE_ENV !== 'production' && (\n        <View>\n          <DeveloperOptions />\n        </View>\n      )}\n    </ScrollView>\n  );\n};\n\nexport default Settings;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}